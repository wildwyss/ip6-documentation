\section{JINQ} % (fold)
\label{sec:API_JINQ}
JINQ (JavaScript language integrated queries) enables you to query any monadic
type using the same syntax.
\newline
For further details and explanations, consider section \ref{sub:Introducing JINQ}.
\newline
To create a monadic type, visit chapter~\ref{chap:Monads in JavaScript}.

\subsection{Functions}
\label{sub:JINQ_Functions}
JINQ provides the following functions:

\begin{table}[H]
  \centering
  \begin{tabularx}{\textwidth}{| l | X |} \hline
    \textbf{Name}       & \textbf{Description} \\ \hline
    \texttt{from}       & serves as starting point to enter JINQ and specifies a data source \\ \hline 
    \texttt{map}        & maps the current value to a new value \\ \hline 
    \texttt{select}     & alias for \texttt{map} (same functionality) \\ \hline 
    \texttt{where}      & only keeps the items that fulfil the predicate \\ \hline
    \texttt{inside}     & maps the current value to a new \texttt{MonadType} \\ \hline 
    \texttt{pairWith}   & combines the underlying data structure with the given data structure as \texttt{PairType} \\ \hline 
    \texttt{result}     & returns the result of this query\\ \hline 

  \end{tabularx}
  \caption{JINQ functions}
  \label{tab:jinq_functions}
\end{table}

\subsection{Examples}
\label{sub:JINQ_Examples}

\subsubsection{Even Numbers}
\label{subsub:JINQ_Even Numbers}
Generating a sequence of even numbers using JINQ and a range as data source:\\
\\
\textit{Note:} Since |result| returns a |MonadType|, casting is needed
to pass it to |show|.

\begin{lstlisting}[
  style=ES6, 
  caption=Even numbers generated by JINQ,
  label={lst:jinq_even_numbers}
  ]
import * as _    from "./src/sequence/sequence.js"
import { from }  from "./src/jinq/jinq.js";
import { Range } from "./src/range/range.js";

const range = Range(10)
const result =
    from(range)
      .where(x => x % 2 === 0)
      .result();

console.log(_.show(/** @type SequenceType */ result));
// => Logs '[0,2,4,6,8,10]
\end{lstlisting}

\subsubsection{Pythagorean Triple}
\label{subsub:JINQ_Pythagorean Triple}
Listing~\ref{lst:triple} searches for all pythagorean
triples~\cite{pythagorean_triple} between 1 and 10:

\begin{lstlisting}[
  style=ES6, 
  caption=The Pythagorean Triple between 1 and 10,
  label={lst:triple}
  ]
import { Range, show } from "./src/sequence/sequence.js"
import { from }        from "./src/jinq/jinq.js";

const range = Range(1, 10);

const result =
  from(range)
    .pairWith(range)
    .pairWith(range)
    .where ( ([ [a,b], c ]) => a * a + b * b === c * c)
    .select( ([ [a,b], c ]) => `[${a}, ${b}, ${c}]`)
    .result();

console.log(show(/** @type SequenceType */ result));
// => Logs '[[3, 4, 5],[4, 3, 5],[6, 8, 10],[8, 6, 10]]
\end{lstlisting}
